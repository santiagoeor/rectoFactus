<app-best-menu></app-best-menu>

<p-table [value]="invoices()" [scrollable]="true" scrollHeight="540px">
    <ng-template pTemplate="header">
        <tr>
            <th>#</th>
            <th>Cliente</th>
            <th>Total</th>
            <th>Estado</th>
            <th>Fecha Creaci√≥n</th>
            <th>PDF</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-item>
        <tr>
            <td scope="row">{{ item.number }}</td>
            <td>{{ item.names }}</td>
            <td>${{ item.total }}</td>
            <td>{{ item.status }}</td>
            <td>{{ item.created_at }}</td>
            <td>
                <p-button (onClick)="pdfInvoice(item.number)" icon="pi pi-file-pdf"></p-button>
            </td>
        </tr>

    </ng-template>
</p-table>

@if (loading()) {
<div>
    <i class="pi pi-spin pi-sync" style="font-size: 2rem"></i>Cargando listado Facturas
</div>
}

<div class="card flex justify-content-center">
    <p-paginator (onPageChange)="onPageChange($event)" [first]="first()" [rows]="rows()"
        [totalRecords]="totalInvoices()"></p-paginator>
</div>